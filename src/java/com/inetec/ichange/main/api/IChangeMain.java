package com.inetec.ichange.main.api;


import com.inetec.common.exception.Ex;
import com.inetec.common.logs.LogHelper;
import com.inetec.common.db.datasource.DatabaseSource;

import java.io.InputStream;

/**
 * ???????????????????????????????????????
 * ??????????????????????????????????????????,
 *
 * @author inetec System
 * @version 1.0
 */
public interface IChangeMain {
    /**
     * ????????; ?????????????????
     */
    public static final String Str_ControlStart = "start";

    /**
     * ??????; ???????????????
     */
    public static final String Str_ControlStop = "stop";


    public static final String Str_ControlGetStatus = "getstatus";


    /**
     * ????????????????????????????????????????????????????????
     *
     * @param type    ????????????????????????????
     * @param command ???????????: start, stop, connect, disconnect, controlwrite, or getstatus; or
     *                other ??????§Ø???????þŸ
     * @param fp      ????????????????§»??????????????????§¹??
     * @throws Ex ???§Õ????????
     */
    DataAttributes control(IChangeType type, String command, DataAttributes fp) throws Ex;

    /**
     * ????????????????????????????????????
     *
     * @param type  ???????????????????????????
     * @param is    ?????????
     * @param props ?????????;???????????§»??????????
     * @throws Ex ???§Õ??????
     */
    DataAttributes dispose(IChangeType type, InputStream is, DataAttributes props) throws Ex;

    /**
     * ?????????????????????????.(???????)
     *
     * @param type  ????????????????????????????
     * @param date  ???????
     * @param props ?????????;???????????§»??????????
     * @throws Ex ???§Õ??????
     */
    DataAttributes dispose(IChangeType type, byte[] date, DataAttributes props) throws Ex;

    /**
     * ??????????
     *
     * @param type   ??????
     * @param stauts ?????
     * @param info   ??????
     * @param source ?????
     * @throws Ex
     */
    void setStatus(IChangeType type, EStatus stauts, String info, boolean source) throws Ex;

    /**


     /**
     * ??????????
     *
     * @return LogHelper
     */
    public LogHelper createLogHelper();

    /**
     * ????????
     *
     * @param dbSourceName
     * @return DatabasesSource.
     */
    public DatabaseSource findDataSource(String dbSourceName) throws Ex;

    /**
     * ?????????.
     *
     * @return boolean  Object
     */
    public boolean isNetWorkOkay();
}
